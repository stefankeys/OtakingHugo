<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Calculator</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles/dark.css" id="theme" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="wrapper">
      <div class="container">
        <h1>Calculator</h1>
        <div class="first-row">
          <input
            type="text"
            name="result"
            class="result"
            id="result"
            value=""
            placeholder="Result"
            readonly
          />
          <input type="button" value="C" onclick="clearScreen()" id="clear" />
        </div>
        <div class="second-row">
          <input type="button" value="1" onclick="liveScreen(1)" id="one" />
          <input type="button" value="2" onclick="liveScreen(2)" id="two" />
          <input type="button" value="3" id="three" onclick="liveScreen(3)" />
          <input type="button" value="+" onclick="liveScreen('+')" />
        </div>
        <div class="third-row">
          <input type="button" value="4" id="four" onclick="liveScreen(4)" />
          <input type="button" value="5" id="five" onclick="liveScreen(5)" />
          <input type="button" value="6" id="six" onclick="liveScreen(6)" />
          <input type="button" value="-" onclick="liveScreen('-')" />
        </div>
        <div class="fourth-row">
          <input type="button" value="7" id="seven" onclick="liveScreen(7)" />
          <input type="button" value="8" id="eight" onclick="liveScreen(8)" />
          <input type="button" value="9" id="nine" onclick="liveScreen(9)" />
          <input type="button" value="x" onclick="liveScreen('*')" />
        </div>
        <div class="fifth-row">
          <input type="button" value="/" onclick="liveScreen('/')" />

          <input type="button" value="0" id="zero" onclick="liveScreen(0)" />
          <input
            type="button"
            value="."
            class="dot"
            onclick="liveScreen('.')"
          />
          <input
            type="button"
            value="="
            onclick="result.value = eval(result.value||null)"
          />
        </div>
        <div class="bottom-buttons">
          <a href="https://github.com/zxcodes/JavaScript-Calculator"
            ><i class="fab fa-github"></i> Source</a
          >
          <button onclick="changeTheme()" id="dark-mode">Light Mode ‚òÄÔ∏è</button>
        </div>
      </div>
    </div>
    <script>
      let lightTheme = "/styles/light.css";
      let darkTheme = "/styles/dark.css";

      //adding event handler on the document to handle keyboard inputs
      document.addEventListener("keydown", keyboardInputHandler);

      //function to handle keyboard inputs
      function keyboardInputHandler(e) {
        //grabbing the liveScreen
        let res = document.getElementById("result");

        //numbers
        if (e.key === "0") {
          res.value += "0";
        } else if (e.key === "1") {
          res.value += "1";
        } else if (e.key === "2") {
          res.value += "2";
        } else if (e.key === "3") {
          res.value += "3";
        } else if (e.key === "4") {
          res.value += "4";
        } else if (e.key === "5") {
          res.value += "5";
        } else if (e.key === "6") {
          res.value += "6";
        } else if (e.key === "7") {
          res.value += "7";
        } else if (e.key === "7") {
          res.value += "7";
        } else if (e.key === "8") {
          res.value += "8";
        } else if (e.key === "9") {
          res.value += "9";
        }

        //operators
        if (e.key === "+") {
          res.value += "+";
        } else if (e.key === "-") {
          res.value += "-";
        } else if (e.key === "*") {
          res.value += "*";
        } else if (e.key === "/") {
          res.value += "/";
        }

        //decimal key
        if (e.key === ".") {
          res.value += ".";
        }

        //press enter to see result
        if (e.key === "Enter") {
          res.value = eval(result.value || null);
        }

        //backspace for removing the last input
        if (e.key === "Backspace") {
          let resultInput = res.value;

          //remove the last element in the string
          res.value = resultInput.substring(0, res.value.length - 1);
        }
      }

      // Clears the screen on click of C button.
      function clearScreen() {
        document.getElementById("result").value = "";
      }
      // Displays entered value on screen.
      function liveScreen(value) {
        let res = document.getElementById("result");
        if (!res.value) {
          res.value = "";
        }
        res.value += value;
      }
      // Swaps the stylesheet in order to  achieve dark mode.
      function changeTheme() {
        let darkMode = document.getElementById("dark-mode");
        let theme = document.getElementById("theme");
        if (theme.getAttribute("href") === lightTheme) {
          theme.href = darkTheme;
          darkMode.innerHTML = "Light Mode üåû";
        } else {
          theme.href = lightTheme;
          darkMode.innerHTML = "Dark Mode üåô";
        }
      }
    </script>
    <!-- Fontawesome Script -->
    <script
      src="https://kit.fontawesome.com/f28b055962.js"
      crossorigin="anonymous"
    ></script>
    <script src="scripts/script.js"></script>
  </body>
</html>
